# Nixpacks configuration for Railway
# See: https://nixpacks.com/docs/configuration/file

providers = ["python"]

[phases.setup]
nixPkgs = ["...", "ffmpeg"]

[phases.build]
dependsOn = ["install"]
cmds = ["python -c \"import whisper; whisper.load_model('base')\""]

[start]
cmd = "gunicorn app:app --timeout 300 --workers 1 --bind 0.0.0.0:$PORT --preload"
